<!doctype html>
{% load static %}
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <!--Mi Css-->
    <link rel="stylesheet" href="{% static 'Inicio/css/estilo-agregar_producto.css' %}">
    <!--Fuente 'Quicksand'-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300&display=swap" rel="stylesheet">
    <!--Font Awesome para los icons-->
    <script src="https://kit.fontawesome.com/1877fd7acc.js" crossorigin="anonymous"></script>

    <title>Modificar producto - HSC Componentes</title>
</head>

<body>

    <div class="container">
        <div class="text-start boton-volver">
            <a href="{%url 'menu_admin' %}" class="boton btn btn-primary">Volver</a>
        </div>
        <h1>Modificar un producto</h1>
        <p style="font-weight: 200; padding-bottom: 10px;">En esta opción puede Modificar un producto de la página.
            <br> Es importante que <b>llene todos los campos</b> para que pueda continuar.</p>
        <form class="requires-validation form1" action="{% url 'editarProducto' producto.idProducto %}" method="POST"
            enctype="multipart/form-data" id="formprod" name="formularioprod">
            {% csrf_token %}


            <div class="form-group mb-3 flex-column d-flex caja">
                <label for="" class="datos">Id del producto<span class="text-danger"> *</span></label>
                <input type="text" class="form-control negritas" name="txtCodigo" id="txtCodigo"
                    placeholder=" Ingresa el nombre del producto" value="{{producto.idProducto}}" readonly required>
            </div>



            <!--  NOMBRE  -->
            <div class="form-group mb-3 flex-column d-flex caja">
                <label for="" class="datos">Nombre del producto<span class="text-danger"> *</span></label>
                <input type="text" class="form-control negritas" name="nomprod" id="nomprod"
                    placeholder=" Ingresa el nombre del producto" value="{{producto.nombreProducto}}" required>
                <div class="invalid-feedback">El nombre del producto no puede estar vacío</div>
            </div>


            <!--  TIPO PRODUCTO  -->
            <div class="form-group mb-3 flex-column d-flex caja">
                <label for="" class="datos">Tipo de producto<span class="text-danger"> *</span></label>
                <select name="tipoprod" id="tipoprod" class="form-select negritas" aria-label="Productos" required>
                    {%if idTiporod == producto.idTiporod.tipoprod%}
                    <option value="{{ producto.tipoprod.idTiporod }}" selected>{{producto.tipoprod.nombreTipoProd }}</option>
                    {%endif%}

                </select>
                <div class="invalid-feedback">Debe seleccionar un tipo de producto</div>
            </div>


            <!--  MARCA  -->
            <div class="form-group mb-3 flex-column d-flex caja">
                <label for="" class="datos">Marca de producto<span class="text-danger"> *</span></label>
                <select name="marcaprod" id="marcaprod" class="form-select negritas" aria-label="Productos" required>
                    {% for i in Marca %}

                        {% if i.idMarca == producto.marca.idMarca %}
                        <option value="{{producto.marca.idMarca}}" selected>{{producto.marca.nombreMarca }}</option>
                        {% else %}
                        <option value="{{i.idMarca}}">{{i.nombreMarca }}</option>

                        {%endif%}
                    {% endfor %}
            
                </select>
                <div class="invalid-feedback">El nombre del producto no puede estar vacío</div>
            </div>


            <!--  STOCK  -->
            <div class="form-group mb-3 flex-column d-flex caja">
                <label for="" class="datos">Stock del producto<span class="text-danger"> *</span></label>
                <input type="text" class="form-control negritas" name="stockprod" id="stockprod"
                    placeholder=" Ingrese el stock del producto" value="{{producto.stockProd}}" required>
                <div class="invalid-feedback">El stock del producto no puede estar vacío</div>
            </div>


            <!--  PRECIO  -->
            <div class="form-group mb-3 flex-column d-flex caja">
                <label for="formFile" class="datos form-label">Precio del producto<span class="text-danger">
                        *</span></label>
                <input type="number" class="form-control negritas" name="precio" id="precio"
                    placeholder=" Ingrese el precio del producto" value="{{producto.precioProducto}}" required>
                <div class="invalid-feedback">Debe ingresar un precio</div>
            </div>


            <!--  IMAGEN  -->
            <div class="form-group mb-3 flex-column d-flex caja" id ="imgmic">
                <label for="formFile" class="datos form-label">Seleccionar imagen<span class="text-danger">
                        *</span></label>
                {% if producto.imagenProd %}
                <img src="{{producto.imagenProd.url}}" alt="chupalo" class="prod-size">
                {% endif %}
                <input class="form-control negritas" type="file" name="imgprod" id="imgprod"
                 >
                <div class="invalid-feedback">Debe seleccionar una imagen para el producto</div>
            </div>


            <!--  DESCRIPCION  -->
            <div class="form-group mb-3 flex-column d-flex caja">
                <label for="" class="datos">Descripción del producto<span class="text-danger"> *</span></label>
                <textarea class="form-control negritas" name="descprod" id="descprod" rows="4"
                    placeholder="Escriba acá la descripción del producto" required>{{producto.especificacionProd}}</textarea>
                <div class="invalid-feedback">El producto debe tener una descripción</div>
            </div>


            <!--  BOTON  -->
            <div class="text-center">
                <button id="submit" type="submit" class="boton btn btn-primary">Guardar</button>
            </div>
        </form>
    </div>


    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
    <!--Mi Js-->
    <script src="{%static 'Inicio/js/v-agregar_p.js'%}"></script>
    
</body>

</html>